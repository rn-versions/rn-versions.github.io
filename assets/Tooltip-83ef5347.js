import{_ as E,r,C as V,f,h as C,D as R,i as H,k as x,A as W,s as M,l as L,m as S,n as D,p as I,K as B,o as k,q as z,t as A}from"./index-cf2e8708.js";function K(t){return t.clientWidth<t.scrollWidth}function O(t){return t.clientHeight<t.scrollHeight}function G(t){return K(t)||O(t)}var q=H(),$=function(t){E(n,t);function n(){var i=t!==null&&t.apply(this,arguments)||this;return i._onRenderContent=function(e){return typeof e.content=="string"?r.createElement("p",{className:i._classNames.subText},e.content):r.createElement("div",{className:i._classNames.subText},e.content)},i}return n.prototype.render=function(){var i=this.props,e=i.className,o=i.calloutProps,s=i.directionalHint,u=i.directionalHintForRTL,a=i.styles,l=i.id,d=i.maxWidth,p=i.onRenderContent,c=p===void 0?this._onRenderContent:p,m=i.targetElement,v=i.theme;return this._classNames=q(a,{theme:v,className:e||o&&o.className,beakWidth:o&&o.isBeakVisible?o.beakWidth:0,gapSpace:o&&o.gapSpace,maxWidth:d}),r.createElement(V,f({target:m,directionalHint:s,directionalHintForRTL:u},o,C(this.props,x,["id"]),{className:this._classNames.root}),r.createElement("div",{className:this._classNames.content,id:l,onFocus:this.props.onFocus,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},c(this.props,this._onRenderContent)))},n.defaultProps={directionalHint:R.topCenter,maxWidth:"364px",calloutProps:{isBeakVisible:!0,beakWidth:16,gapSpace:0,setInitialFocus:!0,doNotLayer:!1}},n}(r.Component),U=function(t){var n=t.className,i=t.beakWidth,e=i===void 0?16:i,o=t.gapSpace,s=o===void 0?0:o,u=t.maxWidth,a=t.theme,l=a.semanticColors,d=a.fonts,p=a.effects,c=-(Math.sqrt(e*e/2)+s)+1/window.devicePixelRatio;return{root:["ms-Tooltip",a.fonts.medium,W.fadeIn200,{background:l.menuBackground,boxShadow:p.elevation8,padding:"8px",maxWidth:u,selectors:{":after":{content:"''",position:"absolute",bottom:c,left:c,right:c,top:c,zIndex:0}}},n],content:["ms-Tooltip-content",d.small,{position:"relative",zIndex:1,color:l.menuItemText,wordWrap:"break-word",overflowWrap:"break-word",overflow:"hidden"}],subText:["ms-Tooltip-subtext",{fontSize:"inherit",fontWeight:"inherit",color:"inherit",margin:0}]}},j=M($,U,void 0,{scope:"Tooltip"}),_;(function(t){t[t.zero=0]="zero",t[t.medium=1]="medium",t[t.long=2]="long"})(_||(_={}));var h;(function(t){t[t.Parent=0]="Parent",t[t.Self=1]="Self"})(h||(h={}));var J=H(),Q=function(t){E(n,t);function n(i){var e=t.call(this,i)||this;return e._tooltipHost=r.createRef(),e._defaultTooltipId=D("tooltip"),e.show=function(){e._toggleTooltip(!0)},e.dismiss=function(){e._hideTooltip()},e._getTargetElement=function(){if(e._tooltipHost.current){var o=e.props.overflowMode;if(o!==void 0)switch(o){case h.Parent:return e._tooltipHost.current.parentElement;case h.Self:return e._tooltipHost.current}return e._tooltipHost.current}},e._onTooltipFocus=function(o){if(e._ignoreNextFocusEvent){e._ignoreNextFocusEvent=!1;return}e._onTooltipMouseEnter(o)},e._onTooltipContentFocus=function(o){n._currentVisibleTooltip&&n._currentVisibleTooltip!==e&&n._currentVisibleTooltip.dismiss(),n._currentVisibleTooltip=e,e._clearDismissTimer(),e._clearOpenTimer()},e._onTooltipBlur=function(o){e._ignoreNextFocusEvent=(document==null?void 0:document.activeElement)===o.target,e._dismissTimerId=e._async.setTimeout(function(){e._hideTooltip()},0)},e._onTooltipMouseEnter=function(o){var s=e.props,u=s.overflowMode,a=s.delay;if(n._currentVisibleTooltip&&n._currentVisibleTooltip!==e&&n._currentVisibleTooltip.dismiss(),n._currentVisibleTooltip=e,u!==void 0){var l=e._getTargetElement();if(l&&!G(l))return}if(!(o.target&&I(o.target,e._getTargetElement())))if(e._clearDismissTimer(),e._clearOpenTimer(),a!==_.zero){var d=e._getDelayTime(a);e._openTimerId=e._async.setTimeout(function(){e._toggleTooltip(!0)},d)}else e._toggleTooltip(!0)},e._onTooltipMouseLeave=function(o){var s=e.props.closeDelay;e._clearDismissTimer(),e._clearOpenTimer(),s?e._dismissTimerId=e._async.setTimeout(function(){e._toggleTooltip(!1)},s):e._toggleTooltip(!1),n._currentVisibleTooltip===e&&(n._currentVisibleTooltip=void 0)},e._onTooltipKeyDown=function(o){(o.which===B.escape||o.ctrlKey)&&e.state.isTooltipVisible&&(e._hideTooltip(),o.stopPropagation())},e._clearDismissTimer=function(){e._async.clearTimeout(e._dismissTimerId)},e._clearOpenTimer=function(){e._async.clearTimeout(e._openTimerId)},e._hideTooltip=function(){e._clearOpenTimer(),e._clearDismissTimer(),e._toggleTooltip(!1)},e._toggleTooltip=function(o){e.state.isTooltipVisible!==o&&e.setState({isTooltipVisible:o},function(){return e.props.onTooltipToggle&&e.props.onTooltipToggle(o)})},e._getDelayTime=function(o){switch(o){case _.medium:return 300;case _.long:return 500;default:return 0}},k(e),e.state={isAriaPlaceholderRendered:!1,isTooltipVisible:!1},e._async=new z(e),e}return n.prototype.render=function(){var i=this.props,e=i.calloutProps,o=i.children,s=i.content,u=i.directionalHint,a=i.directionalHintForRTL,l=i.hostClassName,d=i.id,p=i.setAriaDescribedBy,c=p===void 0?!0:p,m=i.tooltipProps,v=i.styles,w=i.theme;this._classNames=J(v,{theme:w,className:l});var y=this.state.isTooltipVisible,g=d||this._defaultTooltipId,N=f(f({id:"".concat(g,"--tooltip"),content:s,targetElement:this._getTargetElement(),directionalHint:u,directionalHintForRTL:a,calloutProps:L({},e,{onDismiss:this._hideTooltip,onFocus:this._onTooltipContentFocus,onMouseEnter:this._onTooltipMouseEnter,onMouseLeave:this._onTooltipMouseLeave}),onMouseEnter:this._onTooltipMouseEnter,onMouseLeave:this._onTooltipMouseLeave},C(this.props,x,["id"])),m),b=m!=null&&m.onRenderContent?m.onRenderContent(N,function(T){return T!=null&&T.content?r.createElement(r.Fragment,null,T.content):null}):s,F=y&&!!b,P=c&&y&&b?g:void 0;return r.createElement("div",f({className:this._classNames.root,ref:this._tooltipHost},{onFocusCapture:this._onTooltipFocus},{onBlurCapture:this._onTooltipBlur},{onMouseEnter:this._onTooltipMouseEnter,onMouseLeave:this._onTooltipMouseLeave,onKeyDown:this._onTooltipKeyDown,role:"none","aria-describedby":P}),o,F&&r.createElement(j,f({},N)),r.createElement("div",{hidden:!0,id:g,style:S},b))},n.prototype.componentWillUnmount=function(){n._currentVisibleTooltip&&n._currentVisibleTooltip===this&&(n._currentVisibleTooltip=void 0),this._async.dispose()},n.defaultProps={delay:_.medium},n}(r.Component),X={root:"ms-TooltipHost",ariaPlaceholder:"ms-TooltipHost-aria-placeholder"},Y=function(t){var n=t.className,i=t.theme,e=A(X,i);return{root:[e.root,{display:"inline"},n]}},ee=M(Q,Y,void 0,{scope:"TooltipHost"});export{j as Tooltip,$ as TooltipBase,_ as TooltipDelay,ee as TooltipHost,Q as TooltipHostBase,h as TooltipOverflowMode};
